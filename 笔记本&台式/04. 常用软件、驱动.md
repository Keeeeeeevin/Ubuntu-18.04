# 1. FireFox国内版
----------

1. Ubuntu自带FireFox为国际版，同Windows下的国内版不兼容，书签不能同步。

2. 卸载原国际版FireFox

* 查找已安装的FireFox软件包
```html
dpkg --get-selections |grep firefox
```

* 卸载
```html
sudo apt-get purge firefox*
```

3. 在官网下载最新的Linux版本FireFox

4. 将FireFox在/home/kevin/Software目录下解压，运行即可。

5. 创建桌面运行快捷方式

* 在桌面创建文件，命名为firefox.desktop

* 打开并写入（参考）：
```html
[Desktop Entry]
Comment=
Terminal=false
Name=firefox
Exec=/home/kevin/Software/firefox/firefox
Type=Application
Icon=/home/kevin/Software/firefox/browser/chrome/icons/default/default128.png
```
* 设置该文件属性为可执行，即可运行。

6. 创建侧栏快捷
```html
sudo cp ~/Desktop/firefox.desktop /usr/share/applications
```
* 然后win键，并搜索firefox，选择添加至收藏即可在侧栏中找到firefox

7. Pycharm和Clion类似
```html
# Pycharm例子
[Desktop Entry]
Encoding=UTF-8
Name=pycharm-2020.3.3
Comment=clion IDE
Exec=/home/kevin/Software/pycharm-community-2020.3.3/bin/pycharm.sh
Icon=/home/kevin/Software/pycharm-community-2020.3.3/bin/pycharm.png
Type=Application

# Clion例子
[Desktop Entry]
Encoding=UTF-8
Name=clion-2020.3.2
Comment=clion IDE
Exec=/home/kevin/Software/clion-2020.3.2/bin/clion.sh
Icon=/home/kevin/Software/clion-2020.3.2/bin/clion.png
Type=Application
```


----------
# 2. 文本编辑器NotePad++
----------
1. Terminal直接安装
```html
snap install --classic notepadqq
```


----------
# 3. Gazebo注意事项
----------
1. Gazebo打开黑屏的解决方法，例如roslaunch gazebo_ros willowgarage_world.launch后黑屏

* 方法1：  
删除配置文件 ~/.ignition/fuel/config.yaml，可能该文件损坏，下次启动gazebo时，该文件自动生成。

* 方法2：  
修改~/.ignition/fuel/config.yaml文件，将 https://api.ignitionfuel.org 改为 https://api.ignitionrobotics.org ，可能没用。

* 方法3：  
黑屏可能是gazebo所需的模型网络下载问题，可以离线下载模型文件，放入gazebo默认的模型存放目录中。  
模型文件下载地址：https://github.com/osrf/gazebo_models  
将下载的文件放入：/usr/share/gazebo-9/models，或~/.gazebo/models中。  


----------
# 4. 好用的Terminal
----------

1. Terminator
```html
sudo apt-get install terminator
```

# 5. 中文输入法
----------
1. sogou
* sougou help: https://pinyin.sogou.com/linux/help.php
* sougou download: https://pinyin.sogou.com/linux/
* 问题参考：https://blog.csdn.net/zhangpengzp/article/details/89705808
* 输入法设置中，Sougou Pinyin需要放在keyborad-English(US)之后，否则会出现乱码的bug。


# 6. Matlab 2019a Ubuntu
----------
1. 新建空文件夹，用于挂载matlab.iso文件（文件已下载）
```html
mkdir ~/matlab
sudo mount -o loop R2019a_glnxa64.iso ~/matlab
```
2. 安装matlab
```html
sudo ~/matlab/install
```
3. 安装时选择 Use a File Installation Key 选项，在之后的界面中输入 Crack 文件夹中 Readme.txt 文件中的安装秘钥即可（记录安装位置，后续要用）
4. 安装 matlab-support（目录选择之前记录的matlab安装目录）
```html
sudo apt install matlab-support
# 过程中要求对 Matlab 进行激活，选择原 Crack 文件夹中的 license_standalone.lic 文件即可。
```
5. 复制 Crack 中的 bin 文件夹至 Matlab 安装目录中的 bin 文件夹，以完成破解
```html
sudo cp -rvf Crack/bin /usr/local/Malab/R2019a/
```
6. 由于安装过程均采用sudo，现更改权限
```html
sudo chown -R kevin ~/.matlab
```
7. 运行，在terminal中输入matlab即可
8. 问题解决：Failed to load module "canberra-gtk-module"
```html
sudo apt-get install libcanberra-gtk-module
```

## 7. PyCharm
### 7.1. 安装Pycharm
* 退出Anaconda环境
```html
conda deactivate
```
* 将Pycharm在home/kevin/Software/文件夹解压
* 安装
```html
cd /home/kevin/Software/Software/pycharm-community-2020.3.4/bin
./pycharm.sh
```
### 7.2. 设置解释器
* IDE界面-->file-->Settings-->Project-->Python Interpreter
* 选择解释器地址为：/home/kevin/.conda/envs/torch_py38/bin/python3


## 8. ZED双目相机

### 8.1. ZED SDK
* 官网下载ZED SDK，选择Cuda对于版本：https://www.stereolabs.com/developers/release/
* 特别注意：严格确认Ubuntu所安装的Cuda版本：
```html
cat /usr/local/cuda/version.txt
cat /usr/local/cuda/include/cudnn.h | grep CUDNN_MAJOR -A 2
```
* 安装ZED_SDK：
```html
chmod +x ZED_SDK_Ubuntu18_cuda10.2_v3.4.1.run
# 注意：过程中不安装python api，没成功过，后面单独安装
./ZED_SDK_Ubuntu18_cuda10.2_v3.4.1.run

# 安装完后，可运行例子：
cd /usr/local/zed/tools
./ZED_Depth_Viewer
```

### 8.2. ZED ROS Wrapper（可不安装，自己写ROS节点即可）
* 安装ZED ROS Wrapper：https://github.com/stereolabs/zed-ros-wrapper
```html
mkdir -p ~/catkin_zed/src
cd ~/catkin_zed/src
git clone https://github.com/stereolabs/zed-ros-wrapper.git
cd ../

# 若在ROS Install时，未成功安装rosdep，则不运行下面这句也行
rosdep install --from-paths src --ignore-src -r -y
catkin_make -DCMAKE_BUILD_TYPE=Release
source ./devel/setup.bash

# 节点运行例子：
roslaunch zed_wrapper zedm.launch
# 更多应用参考对应github仓库
```

* 安装ZED ROS Examples：https://github.com/stereolabs/zed-ros-examples
```html
cd ~/catkin_zed/src
git clone https://github.com/stereolabs/zed-ros-examples.git
cd ../
rosdep install --from-paths src --ignore-src -r -y
catkin_make -DCMAKE_BUILD_TYPE=Release
source ./devel/setup.bash

# 节点运行例子：
roslaunch zed_display_rviz display_zed.launch
roslaunch zed_rtabmap_example zed_rtabmap.launch
# 更多应用参考对应github仓库
```

### 8.3. ZED python API

* 获取安装包（.whl）
```html
conda deactivate
cd /usr/local/zed/
python get_python_api.py
```

* 在需要的python环境中，安装ZED的python API
```html
conda activate yolov5
cd /usr/local/zed/
python -m pip install --ignore-installed /usr/local/zed/pyzed-3.4-cp38-cp38-linux_x86_64.whl
```

### 8.4. 解决 python3 cv_bridge 问题

问题描述：ImportError: dynamic module does not define module export function (PyInit_cv_bridge_boost)
参考：https://stackoverflow.com/questions/49221565/unable-to-use-cv-bridge-with-ros-kinetic-and-python3

* 安装依赖项：
```html
# 在anaconda外：
sudo apt-get install python-catkin-tools python3-dev python3-catkin-pkg-modules python3-numpy python3-yaml
# 下面这个应该安装过了
sudo apt-get install ros-melodic-cv-bridge
```

* 安装目录
```html
mkdir -p ~/Software/catkin_cv_bridge/src
cd ~/Software/catkin_cv_bridge
catkin_make
cd ~/Software/catkin_cv_bridge/src
git clone https://github.com/ros-perception/vision_opencv.git
```

* 设置 catkin make
```html
cd ~/Software/catkin_cv_bridge
# 注意查看目录是否正确
catkin config -DPYTHON_EXECUTABLE=/usr/bin/python3.6 -DPYTHON_INCLUDE_DIR=/usr/include/python3.6m -DPYTHON_LIBRARY=/usr/lib/x86_64-linux-gnu/libpython3.6m.so

# 安装目录设定为CATKIN_WORKSPACE/install，即~/Software/catkin_cv_bridge/install
catkin config --install
```

* 检查
```html
apt-cache show ros-melodic-cv-bridge | grep Version
# 返回 Version: 1.13.0-0bionic.20210112.181516

# Checkout right version in git repo. In our case it is 1.13.0
cd ~/Software/catkin_cv_bridge/src/vision_opencv
git checkout 1.13.0
```

* 编译
```html
cd ~/Software/catkin_cv_bridge
catkin build cv_bridge
```

* 测试
```html
# source，可放在terminal的source中
source ~/Software/catkin_cv_bridge/install/setup.bash --extend

# 系统原目录的python3.6测试
conda deactivate（直到非base环境）
python3.6
from cv_bridge.boost.cv_bridge_boost import getCvType

# Anaconda的python3.8测试
conda activate yolov5
python3
from cv_bridge.boost.cv_bridge_boost import getCvType
```

## 9. SSH远程控制
* 安装ssh
```html
sudo apt-get install openssh-server openssh-client
```

* 运行
```html
# 连接同一局域网，然后远程登录：
ssh jp45@192.168.31.198
# 其中jp45是远程电脑的用户名，192.168.31.198是远程电脑的ip

# 退出远程：
exit或ctrl+d
```
