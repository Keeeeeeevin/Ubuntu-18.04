## 1. 刷系统

* 下载镜像（已下载）
```html
# 网址：https://developer.nvidia.com/zh-cn/embedded/downloads
# 选择下载：Jetson NX Developer Kit SD Card Image（对应的Ubuntu版本为18.04.05）
```

* 按照教程将镜像写入TF卡
```html
# 官方教程：https://developer.nvidia.com/embedded/learn/get-started-jetson-xavier-nx-devkit#write
```

* 配置Cuda
```html
# 刷的系统已经安装Cuda 10.2，仅需配置Cuda环境变量，在~/.bashrc中加入以下语句，并重启Terminal

# Cuda
export LD_LIBRARY_PATH=/usr/local/cuda/lib
export PATH=$PATH:/usr/local/cuda/bin
# End Cuda

在命令行输入：nvcc -V，即可看到Cuda的版本信息
```

* 其他：
```html
# 查询系统版本：
lsb_release -a

# 查询Cudnn版本（Cudnn 8.0）：
cat /usr/include/cudnn_version.h

# 安装pip3
sudo apt-get update
sudo apt install python3-pip
pip3 -V

# 安装jetson-stats工具，以查询详细的系统信息
sudo pip3 install jetson-stats

# 查询详细的系统信息（需安装jetson-stats工具），查询结果是Cuda:10.2, cuDNN:8.0, TensorRT:7.1.3, OpenCV 4.1.1等（不带GPU）；
jetson_release -v
```

## 2. 环境准备
----------
1. 更换apt-get源，amd架构的源和笔记本电脑有区别（Jetpack4.5所刷的TX2系统为18.04.05）

* 特别注意：Jetson 系列的CPU是arm64架构，镜像路径不同，为xxx/ubuntu-ports/

* 清华 ARM64 架构 CPU 的 apt-get 源地址（选择18.04版本）：https://mirror.tuna.tsinghua.edu.cn/help/ubuntu-ports/
* 备份/etc/apt/sources.list

* 复制 ARM64 架构 CPU 的 apt-get 源的镜像地址到/etc/apt/sources.list文件
```html
# 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-updates main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-updates main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-backports main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-backports main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-security main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-security main restricted universe multiverse

# 预发布软件源，不建议启用
# deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-proposed main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-proposed main restricted universe multiverse
```

* 最后执行
```html
sudo apt-get update 
```

* 可能的问题：Error in the certificate verification
```html
# 解决办法：首先将源换回默认源，再sudo apt-get update，然后执行：
sudo apt-get install --reinstall ca-certificates
# 重新安装ca-certificates后，再按照之前步骤换源即可
```

2. 安装ROS：参考ROS wiki的步骤即可，遇到问题参考前例（若rosdep部分不成功，可跳过rosdep，问题好像也不大）。


